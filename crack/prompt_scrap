TUI Panel Flow & Architecture - UML Document Outline

     1. Executive Summary

     - Purpose: Define complete TUI panel structure and user workflow for OSCP enumeration
     - Workflow Model: Option A - Hub-and-spoke (Dashboard-centric with drill-down)
     - Multi-Stage Support: Dynamic generation + batch execution + checkpoint persistence
     - Philosophy: Clear navigation, progressive disclosure, crash-safe state management

     ---
     2. Panel Inventory (Complete List)

     Core Panels

     1. Config Panel - Initial setup (LHOST, LPORT, WORDLIST, INTERFACE) âœ“ Working
     2. Dashboard Panel - Main hub (phase, progress, quick actions, recommendations)
     3. Task List Panel - Browse/filter/search all tasks (THE primary work screen)
     4. Task Detail Panel - Full task view with stage navigator
     5. Execution Panel - Live command output + results
     6. Findings Panel - Browse discoveries (vulns, creds, directories, notes)

     Overlay Panels (Temporary Views)

     7. Status Overlay - Quick stats (press 's')
     8. Help Overlay - Shortcuts reference (press 'h')
     9. Tree Overlay - Task tree visualization (press 't')

     Form Panels (Guided Input)

     10. Finding Entry Form - Document vulnerabilities
     11. Credential Entry Form - Save creds with source
     12. Import Form - Upload scan files
     13. Note Form - Quick notes

     ---
3. Navigation Flow (Option A)

     Primary User Journey

     [Config Panel] â†’ (confirm) 
         â†“
     [Dashboard Panel] (hub)
         â”œâ”€â†’ "Browse Tasks" â†’ [Task List Panel]
         â”‚       â”œâ”€â†’ Select Task â†’ [Task Detail Panel]
         â”‚       â”‚       â”œâ”€â†’ "Execute" â†’ [Execution Panel]
         â”‚       â”‚       â”‚       â””â”€â†’ [Output + Next Stage Prompt]
         â”‚       â”‚       â”‚               â”œâ”€â†’ "Continue" â†’ [Task Detail] (next stage)
         â”‚       â”‚       â”‚               â””â”€â†’ "Back" â†’ [Task List Panel]
         â”‚       â”‚       â””â”€â†’ "Back" â†’ [Task List Panel]
         â”‚       â””â”€â†’ "Back" â†’ [Dashboard Panel]
         â”‚
         â”œâ”€â†’ "Document Finding" â†’ [Finding Entry Form] â†’ [Dashboard Panel]
         â”œâ”€â†’ "Import Scan" â†’ [Import Form] â†’ [Dashboard Panel]
         â”œâ”€â†’ "Browse Findings" â†’ [Findings Panel] â†’ [Dashboard Panel]
         â”‚
         â””â”€â†’ Shortcuts (s/t/h) â†’ [Overlay] â†’ [Dashboard Panel]

     ---
     4. Multi-Stage Task Architecture

     Stage Lifecycle

     1. Static Definition - Task created with predefined stages (e.g., gobuster: initial, targeted, deep)
     2. Dynamic Generation - Results trigger new stages (found /admin â†’ create "scan /admin" stage)
     3. Checkpoint Persistence - After each stage, state saved to disk
     4. Batch Execution Option - User can run all stages or manual step-through
     5. Crash Recovery - Resume from last checkpoint

     Task Metadata Structure

     {
       "id": "gobuster-80",
       "stages": [
         {
           "id": "initial",
           "name": "Initial Directory Scan",
           "status": "completed",
           "checkpoint": "2025-10-09T14:30:00",
           "output_file": "/path/to/gobuster-80-initial.txt"
         },
         {
           "id": "admin-targeted",
           "name": "Targeted Scan on /admin",
           "status": "in-progress",
           "parent_stage": "initial",
           "generated": true
         },
         {
           "id": "deep-scan",
           "name": "Deep Scan with Large Wordlist",
           "status": "pending"
         }
       ],
       "current_stage": "admin-targeted",
       "batch_mode": false
     }
   ---
     5. Panel Detailed Specifications

     5.1 Dashboard Panel (Hub)

     Layout:
     - Top: Phase banner + progress bar
     - Middle: Recommended next task (big card)
     - Bottom: Quick action menu (numbered 1-9)

     Content:
     - Current phase with description
     - Progress: X/Y tasks (% complete)
     - Next recommended task with preview
     - Quick wins available (count)
     - Phase-specific actions (import scan, service scan, etc.)

     Actions:
     1. Execute next task
     2. Browse all tasks â†’ [Task List Panel]
     3. Quick wins â†’ filtered [Task List Panel]
     4. Import scan â†’ [Import Form]
     5. Document finding â†’ [Finding Entry Form]
     6. Browse findings â†’ [Findings Panel]
     7. Show full status â†’ [Status Overlay]
     8. Help â†’ [Help Overlay]
     9. Exit

     5.2 Task List Panel (Primary Work Screen)

     Layout:
     - Top: Filter/search bar + sort options
     - Middle: Scrollable task list (paginated)
     - Bottom: Navigation (back, page controls)

     Task List Columns:
     - [Icon] Status indicator (pending/in-progress/completed)
     - [Badge] Multi-stage indicator [2/5] or ğŸ”„
     - Task name
     - Port/Service
     - Priority (HIGH/MEDIUM/LOW)
     - Tags (QUICK_WIN, OSCP:HIGH)

     Filters:
     - By status: Pending, In-Progress, Completed, Failed
     - By port: 80, 443, 22, etc.
     - By service: HTTP, SMB, SSH, etc.
     - By priority: HIGH, MEDIUM, LOW
     - By tags: QUICK_WIN, OSCP:HIGH, MANUAL
     - Multi-stage: Show only multi-stage, Show with follow-ups

     Sort Options:
     - Priority (default)
     - Name (alphabetical)
     - Port (ascending)
     - Status
     - Time estimate

   Grouping:
     - Group by port
     - Group by service
     - Group by phase
     - Flat list (default)

     Actions:
     - Select task number â†’ [Task Detail Panel]
     - 'f' â†’ Toggle filters
     - 's' â†’ Change sort
     - 'g' â†’ Toggle grouping
     - 'b' â†’ Back to [Dashboard Panel]

     5.3 Task Detail Panel (Pre-Execution View)

     Layout:
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ Task: gobuster-80 (Port 80 Directory Enumeration)  â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚ Stages: [âœ“ Initial] â†’ [â— Targeted] â†’ [â—‹ Deep]      â”‚
     â”‚ Current: Stage 2/3 - Targeted Scan on /admin       â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚ Description:                                        â”‚
     â”‚   Enumerate directories on discovered /admin path   â”‚
     â”‚                                                     â”‚
     â”‚ Command:                                            â”‚
     â”‚   gobuster dir -u http://192.168.45.100/admin \    â”‚
     â”‚     -w /usr/share/seclists/common.txt -t 50        â”‚
     â”‚                                                     â”‚
     â”‚ Flags:                                              â”‚
     â”‚   -u : Target URL                                   â”‚
     â”‚   -w : Wordlist path                                â”‚
     â”‚   -t : Thread count (50 for speed)                  â”‚
     â”‚                                                     â”‚
     â”‚ Estimated Time: 2-5 minutes                         â”‚
     â”‚                                                     â”‚
     â”‚ Manual Alternative:                                 â”‚
     â”‚   curl -s http://192.168.45.100/admin/[WORD] (loop)â”‚
     â”‚                                                     â”‚
     â”‚ Success Indicators:                                 â”‚
     â”‚   â€¢ Status 200, 301, 302 responses                  â”‚
     â”‚   â€¢ New directories discovered                      â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

     Actions:
     1. Execute this stage
     2. Execute all remaining stages (batch mode)
     3. Skip to next stage
     4. Edit command
     5. View alternatives
     6. Back to task list
  Stage Navigator Component:
     - Visual timeline with checkpoints
     - Click stage to jump (if dependencies met)
     - Progress indicator
     - Auto-generated stages highlighted differently

     Actions:
     1. Execute current stage â†’ [Execution Panel]
     2. Execute all remaining (batch) â†’ [Execution Panel] (loops)
     3. Skip stage (mark skipped)
     4. Edit command â†’ Inline editor
     5. View alternatives â†’ Alternative commands menu
     6. Back â†’ [Task List Panel]

     5.4 Execution Panel (Live Output)

     Layout:
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ Executing: gobuster-80 (Stage 2/3)                  â”‚
     â”‚ Status: Running... [â£¾] 00:02:34 elapsed            â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚ [Live Output - Scrolling]                           â”‚
     â”‚                                                     â”‚
     â”‚ /admin/backup    (Status: 200) [Size: 1234]        â”‚
     â”‚ /admin/config    (Status: 200) [Size: 567]         â”‚
     â”‚ /admin/logs      (Status: 403) [Size: 0]           â”‚
     â”‚ ...                                                 â”‚
     â”‚ [Auto-scrolling to bottom]                          â”‚
     â”‚                                                     â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚ Auto-Detected Findings:                             â”‚
     â”‚   â€¢ Directory: /admin/backup (200 OK)               â”‚
     â”‚   â€¢ Directory: /admin/config (200 OK)               â”‚
     â”‚                                                     â”‚
     â”‚ Exit Code: 0 (Success) âœ“                            â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

     Next Steps:
     1. Continue to Stage 3 (Deep Scan)
     2. Generate follow-ups for 2 new directories (dynamic)
     3. Mark complete and return to task list
     4. Add custom finding
     5. Save output to file

     Features:
     - Live output streaming (auto-scroll)
     - Exit code + success indicator
     - Auto-parsing for findings (directories, creds, vulns)
     - Checkpoint saved on completion
     - Dynamic stage generation prompt

  Post-Execution Actions:
     1. Continue to next stage â†’ [Task Detail Panel] (stage 3)
     2. Generate follow-ups â†’ Creates new stages dynamically
     3. Mark complete, back â†’ [Task List Panel]
     4. Add finding â†’ [Finding Entry Form]
     5. Save output â†’ Prompt for filename

     5.5 Findings Panel (Discoveries Browser)

     Layout:
     - Top: Filter by type (All, Vulns, Creds, Directories, Users, Notes)
     - Middle: Findings list (timeline or grouped)
     - Bottom: Quick actions

     Findings List:
     [Type Icon] Finding Description | Source | Timestamp
     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     [ğŸ”“] SQL Injection in /login.php?id=  | Manual SQLMap | 14:30
     [ğŸ”‘] admin:password123 (MySQL:3306)  | config.php   | 14:25
     [ğŸ“] /admin/backup (200 OK)          | gobuster-80  | 14:20
     [ğŸ‘¤] john.doe@victim.com            | enum4linux   | 14:15

     Filters:
     - Type: Vulnerability, Credential, Directory, User, Note
     - Port: 80, 443, 22, etc.
     - Service: HTTP, SSH, SMB, etc.
     - Date range

     Actions:
     1. Select finding â†’ Show details
     2. Export findings â†’ Markdown/JSON
     3. Correlate findings â†’ Show relationships
     4. Add new finding â†’ [Finding Entry Form]
     5. Back â†’ [Dashboard Panel]

     ---
     6. State Machine Diagram (UML)

     States:
     - INIT - Application startup
     - CONFIG - Configuration panel
     - DASHBOARD - Main hub
     - TASK_LIST - Browsing tasks
     - TASK_DETAIL - Viewing task details
     - EXECUTING - Running command
     - FINDINGS - Browsing findings
     - OVERLAY - Help/Status/Tree overlays
     - FORM - Input forms

  Transitions:
     INIT â†’ CONFIG (auto)
     CONFIG â†’ DASHBOARD (confirm config)
     DASHBOARD â†” TASK_LIST (browse tasks / back)
     TASK_LIST â†” TASK_DETAIL (select task / back)
     TASK_DETAIL â†’ EXECUTING (execute)
     EXECUTING â†’ TASK_DETAIL (stage complete, continue)
     EXECUTING â†’ TASK_LIST (complete, back)
     DASHBOARD â†” FINDINGS (browse / back)
     DASHBOARD â†” FORM (document / save)
     ANY â†’ OVERLAY (shortcut)
     OVERLAY â†’ PREVIOUS (dismiss)

     Entry Actions:
     - CONFIG: Load config.json
     - TASK_LIST: Refresh task list, apply filters
     - TASK_DETAIL: Load task metadata, build stage navigator
     - EXECUTING: Start command, create checkpoint
     - FINDINGS: Load findings, apply filters

     Exit Actions:
     - CONFIG: Save config.json
     - EXECUTING: Save checkpoint, parse output, generate stages
     - FORM: Validate input, save to profile

     ---
     7. Sequence Diagrams (User Flows)

     7.1 Multi-Stage Task Execution Flow

     User â†’ Dashboard: Select "Browse Tasks"
     Dashboard â†’ TaskList: Navigate
     User â†’ TaskList: Select "gobuster-80"
     TaskList â†’ TaskDetail: Load task + stages
     TaskDetail â†’ User: Show Stage 1/3 details
     User â†’ TaskDetail: Press "1" (Execute)
     TaskDetail â†’ Execution: Run command
     Execution â†’ System: Execute gobuster
     System â†’ Execution: Stream output
     Execution â†’ Execution: Parse results, save checkpoint
     Execution â†’ User: Show "Stage 1 Complete, 2 dirs found"
     User â†’ Execution: Press "2" (Generate follow-ups)
     Execution â†’ TaskDetail: Create 2 new stages dynamically
     TaskDetail â†’ User: Show updated stage navigator (now 5 stages)
     User â†’ TaskDetail: Press "1" (Execute Stage 2)
     [Repeat...]

     7.2 Finding Documentation Flow

     User â†’ Dashboard: Press "4" (Document Finding)
     Dashboard â†’ FindingForm: Navigate
     FindingForm â†’ User: Show type menu
     User â†’ FindingForm: Select "1" (Vulnerability)
     FindingForm â†’ User: Prompt for description
     User â†’ FindingForm: Enter "SQLi in login.php?id="
     FindingForm â†’ User: Prompt for source (REQUIRED)
     User â†’ FindingForm: Enter "Manual testing with sqlmap"
     FindingForm â†’ Profile: Save finding with timestamp
     Profile â†’ FindingForm: Confirm saved
     FindingForm â†’ Dashboard: Navigate back
     Dashboard â†’ User: Show updated findings count

     ---
     8. Implementation Phases (Incremental Build)

     Phase 1: Foundation (DONE âœ“)

     - Config Panel working
     - Basic Dashboard shell (header, menu, footer)
     - Exit to Plan Mode here â†’ Get approval

     Phase 2: Dashboard + Overlays

     - Complete Dashboard panel (phase, progress, recommendations)
     - Status Overlay (press 's')
     - Help Overlay (press 'h')
     - Tree Overlay (press 't')
     - Test navigation flow

     Phase 3: Task List Panel

     - Build task list browser
     - Implement filters (status, port, service, tags)
     - Implement sort options
     - Pagination (10-20 tasks per page)
     - Multi-stage indicator badges
     - Test navigation: Dashboard â†” Task List

     Phase 4: Task Detail + Stage Navigator

     - Task detail view with all metadata
     - Stage navigator component (timeline)
     - Multi-stage indicator
     - Edit command capability
     - Test navigation: Task List â†” Task Detail

     Phase 5: Execution Panel + Checkpoints

     - Live command output streaming
     - Exit code detection
     - Auto-parsing for findings
     - Checkpoint system (save after each stage)
     - Dynamic stage generation logic
     - Post-execution prompt (continue/back/generate)
     - Test: Full task execution flow
  Phase 6: Findings Panel

     - Findings browser with filters
     - Timeline view
     - Export functionality
     - Test navigation: Dashboard â†” Findings

     Phase 7: Forms

     - Finding entry form
     - Credential entry form
     - Import form
     - Note form
     - Test: Full data entry workflows

     Phase 8: Polish & Edge Cases

     - Crash recovery from checkpoints
     - Terminal resize handling
     - Error messages
     - Loading indicators
     - Keyboard shortcuts polish

     ---
     9. Data Persistence (Checkpoint System)

     Checkpoint Files

     ~/.crack/checkpoints/
       â”œâ”€ 192.168.45.100_gobuster-80_initial.json
       â”œâ”€ 192.168.45.100_gobuster-80_targeted.json
       â””â”€ 192.168.45.100_current_state.json

     Checkpoint Content

     {
       "task_id": "gobuster-80",
       "stage_id": "initial",
       "status": "completed",
       "timestamp": "2025-10-09T14:30:00",
       "command": "gobuster dir -u http://...",
       "output_file": "/path/to/output.txt",
       "exit_code": 0,
       "findings": [
         {"type": "directory", "value": "/admin", "status": 200}
       ],
       "next_stage": "targeted",
       "generated_stages": [
         {"id": "admin-scan", "name": "Scan /admin", "parent": "initial"}
       ]
     }

  Crash Recovery Logic

     1. On startup, check for current_state.json
     2. If exists, show prompt: "Resume interrupted task? [Y/n]"
     3. If yes, load checkpoint and jump to [Task Detail Panel]
     4. Continue from last completed stage

     ---
     10. Edge Cases & Error Handling

     Terminal Issues

     - Terminal too small (< 80x24): Show error, fallback to basic mode
     - Terminal resize during use: Gracefully redraw panels
     - Rich library not available: Fallback to basic mode

     User Input

     - Invalid input: Show error inline, don't crash
     - Ctrl+C during execution: Kill command, save partial checkpoint
     - EOF (Ctrl+D): Treat as 'back' or 'quit'

     Command Execution

     - Command fails (exit code â‰  0): Show error, don't crash, allow retry
     - Command hangs: Show timeout warning, allow kill
     - Output parsing fails: Log error, continue without auto-findings

     Multi-Stage

     - Stage dependency not met: Disable stage, show message
     - Dynamic generation fails: Log error, continue with static stages
     - Checkpoint corruption: Warn user, start stage from scratch

     State Management

     - Navigation stack overflow: Limit depth to 5, force back
     - Profile save fails: Warn user, retry, don't lose data
     - Config missing: Create default config, prompt user

   11. Visual Mockups (ASCII Art)

     Dashboard Panel

     â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
     â•‘ CRACK Track TUI | Target: 192.168.45.100              â•‘
     â•‘ Phase: Service Detection | Progress: 15/47 (32%)      â•‘
     â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
     â•‘                                                        â•‘
     â•‘ ğŸ¯ NEXT RECOMMENDED TASK                               â•‘
     â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
     â•‘ â”‚ gobuster-80 (Port 80 Directory Enumeration)      â”‚  â•‘
     â•‘ â”‚ Stage 1/3: Initial Scan                          â”‚  â•‘
     â•‘ â”‚ Time: ~3 min | Priority: HIGH                    â”‚  â•‘
     â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
     â•‘                                                        â•‘
     â•‘ ACTIONS:                                               â•‘
     â•‘  1. Execute next task                                  â•‘
     â•‘  2. Browse all tasks (47 available)                    â•‘
     â•‘  3. Quick wins (5 available) âš¡                        â•‘
     â•‘  4. Import scan results                                â•‘
     â•‘  5. Document finding                                   â•‘
     â•‘  6. Browse findings (12 total)                         â•‘
     â•‘  7. Full status                                        â•‘
     â•‘  8. Help                                               â•‘
     â•‘  9. Exit                                               â•‘
     â•‘                                                        â•‘
     â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
     â•‘ (s) Status | (t) Tree | (h) Help | (q) Quit           â•‘
     â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

     Task List Panel

     â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
     â•‘ TASK LIST | Filter: Pending | Sort: Priority          â•‘
     â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
     â•‘ # â”‚Stâ”‚ Task Name               â”‚Portâ”‚Priâ”‚Tagsâ”‚Stage   â•‘
     â•‘â”€â”€â”€â”¼â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â•‘
     â•‘ 1 â”‚~â”‚ gobuster-80             â”‚ 80 â”‚ H â”‚ QW â”‚ [2/3]  â•‘
     â•‘ 2 â”‚ â”‚ nikto-80                â”‚ 80 â”‚ M â”‚    â”‚        â•‘
     â•‘ 3 â”‚ â”‚ enum4linux-445          â”‚445 â”‚ H â”‚ OS â”‚        â•‘
     â•‘ 4 â”‚ â”‚ hydra-ssh-22            â”‚ 22 â”‚ L â”‚    â”‚ [1/5]  â•‘
     â•‘ 5 â”‚ â”‚ smb-enum-shares-445     â”‚445 â”‚ M â”‚    â”‚        â•‘
     â•‘ 6 â”‚âœ“â”‚ nmap-version-scan       â”‚All â”‚ H â”‚    â”‚ Done   â•‘
     â•‘ 7 â”‚ â”‚ whatweb-80              â”‚ 80 â”‚ L â”‚    â”‚        â•‘
     â•‘ 8 â”‚ â”‚ mysql-enum-3306         â”‚3306â”‚ M â”‚    â”‚        â•‘
     â•‘â”€â”€â”€â”´â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â•‘
     â•‘ Page 1/5 | Total: 47 tasks                            â•‘
     â•‘                                                        â•‘
     â•‘ (f) Filter | (s) Sort | (Enter #) Select | (b) Back   â•‘
     â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

   Legend: ~ = In-Progress | âœ“ = Complete | [2/3] = Multi-stage
             QW = Quick Win | OS = OSCP High Priority

     Task Detail Panel (Multi-Stage)

     â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
     â•‘ TASK DETAIL: gobuster-80                               â•‘
     â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
     â•‘ Stages: [âœ“ Initial] â†’ [â— Targeted] â†’ [â—‹ Deep Scan]    â•‘
     â•‘ Current: Stage 2/3 - Targeted Scan on /admin           â•‘
     â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
     â•‘ Description:                                           â•‘
     â•‘   Enumerate directories on /admin (found in Stage 1)   â•‘
     â•‘                                                        â•‘
     â•‘ Command:                                               â•‘
     â•‘   gobuster dir -u http://192.168.45.100/admin \        â•‘
     â•‘     -w /usr/share/seclists/Discovery/Web/common.txt \  â•‘
     â•‘     -t 50 -o gobuster-admin.txt                        â•‘
     â•‘                                                        â•‘
     â•‘ Flags:                                                 â•‘
     â•‘   -u : Target URL (from Stage 1 results)               â•‘
     â•‘   -w : Common directories wordlist                     â•‘
     â•‘   -t : 50 threads (fast scan)                          â•‘
     â•‘   -o : Output file                                     â•‘
     â•‘                                                        â•‘
     â•‘ Time: ~2 min | Priority: HIGH | Tags: QUICK_WIN        â•‘
     â•‘                                                        â•‘
     â•‘ Manual Alternative:                                    â•‘
     â•‘   for word in $(cat common.txt); do                    â•‘
     â•‘     curl -s http://target/admin/$word | grep -q 200    â•‘
     â•‘   done                                                 â•‘
     â•‘                                                        â•‘
     â•‘ Success: Look for 200/301/302 responses               â•‘
     â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
     â•‘ 1. Execute this stage                                  â•‘
     â•‘ 2. Execute all remaining stages (batch)                â•‘
     â•‘ 3. Skip to Stage 3                                     â•‘
     â•‘ 4. Edit command                                        â•‘
     â•‘ 5. View alternatives                                   â•‘
     â•‘ 6. Back to task list                                   â•‘
     â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    12. Key Design Decisions Summary

     âœ“ Keep Config Panel - Works perfectly, users need it
     âœ“ Option A Navigation - Dashboard hub with drill-down
     âœ“ Task List as Primary - Not dashboard (dashboard is hub, task list is where work happens)
     âœ“ Multi-Stage Hybrid - Dynamic generation + batch option + checkpoints
     âœ“ Checkpoint System - Crash recovery, resume from any stage
     âœ“ Overlay Pattern - Help/Status/Tree don't change state
     âœ“ Progressive Enhancement - Build incrementally, test each phase
     âœ“ Rich Live Context - Stop for input, resume for display
     âœ“ No Terminal Flooding - Panel updates, not print spam

     ---
     Deliverable

     Full UML document with:
     - State machine diagram (states + transitions)
     - Sequence diagrams (6+ user flows)
     - Class/component diagrams (TUISession, PanelRenderers, StateManager)
     - ASCII mockups for all panels
     - Multi-stage task state diagram
     - Checkpoint recovery flow diagram
     - Implementation phases with test criteria
  â¿

